/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   user_func.c                                        :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: lignigno <lignign@student.21-school.ru>    +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2021/10/30 04:53:57 by lignigno          #+#    #+#             */
/*   Updated: 2021/11/02 10:46:50 by lignigno         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "user_func.h"

#define music_len 54

void	music_1(void)
{
  double	arrNote[music_len] = {G * (1 << 5),
		  	  	  	  			F * (1 << 5),
								G * (1 << 5),
								F * (1 << 5),
								G * (1 << 5),
								C * (1 << 5),
								C * (1 << 5),
								G * (1 << 5),
		  	  	  	  			F * (1 << 5),
								G * (1 << 5),
								F * (1 << 5),
								G * (1 << 5),
								C * (1 << 5),
								C * (1 << 5),
								D_ * (1 << 5),
								F * (1 << 5),
								D_ * (1 << 5),
								F * (1 << 5),
								D_ * (1 << 5),
								G * (1 << 5),
								G * (1 << 5),
								D_ * (1 << 5),
								F * (1 << 5),
								F * (1 << 5),
								F * (1 << 5),
								D_ * (1 << 5),
								G * (1 << 5),
								G * (1 << 5),
								G * (1 << 5),
		  	  	  	  			F * (1 << 5),
								G * (1 << 5),
		  	  	  	  			F * (1 << 5),
								G * (1 << 5),
								C * (1 << 5),
								C * (1 << 5),
								G * (1 << 5),
		  	  	  	  			F * (1 << 5),
								G * (1 << 5),
		  	  	  	  			F * (1 << 5),
								G * (1 << 5),
								C * (1 << 5),
								C * (1 << 5),
								D_ * (1 << 5),
								F * (1 << 5),
								D_ * (1 << 5),
								F * (1 << 5),
								D_ * (1 << 5),
								G * (1 << 5),
								G * (1 << 5),
								D_ * (1 << 5),
								F * (1 << 5),
								F * (1 << 5),
								F * (1 << 5),
								D_ * (1 << 5)};

  uint16_t	arrDuration[music_len] = {200,200,200,200,200,300,300,
		  	  	  	  	  	  200,200,200,200,200,300,300,
							  200,200,200,200,200,300,300,
							  200,200,200,200,200,300,300,
							  200,200,200,200,200,300,300,
							  200,200,200,200,200,300,300,
							  200,200,200,200,200,300,300,
							  200,200,200,200,200};
  SetSound(500, 5);
  HAL_Delay(1000);
  UnSetSound();
  HAL_Delay(1000);
  for (size_t i = 0; i < music_len; ++i)
  {
	  SetSound(arrNote[i], 1);
	  HAL_Delay(arrDuration[i] - 20);
	  UnSetSound();
	  HAL_Delay(20);
  }
  UnSetSound();
  HAL_Delay(1000);
  SetSound(500, 5);
  HAL_Delay(1000);
  UnSetSound();
}
